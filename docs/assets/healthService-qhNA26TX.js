var o=Object.defineProperty;var i=(a,e,t)=>e in a?o(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var s=(a,e,t)=>i(a,typeof e!="symbol"?e+"":e,t);import{b as h}from"./index-D31VjXJj.js";class l{constructor(){s(this,"startTime",Date.now());s(this,"version","2.0.0")}async getHealthStatus(){const e={status:"healthy",timestamp:new Date().toISOString(),services:{api:{status:"unhealthy"},jwt:{status:"unhealthy",hasToken:!1},frontend:{status:"healthy",version:this.version,environment:"production"}},uptime:Date.now()-this.startTime,version:this.version,environment:{mode:"production"}};try{const t=await h.get("/health");e.services.api={status:"healthy"}}catch{e.services.api={status:"unhealthy"},e.status="degraded"}try{const t=localStorage.getItem("jwt_token"),n=localStorage.getItem("jwt_token_expiry");if(t&&n){const r=parseInt(n);Date.now()<r?e.services.jwt={status:"healthy",hasToken:!0}:(e.services.jwt={status:"unhealthy",hasToken:!0},e.status="degraded")}else e.services.jwt={status:"unhealthy",hasToken:!1},e.status="degraded"}catch{e.services.jwt={status:"unhealthy",hasToken:!1},e.status="degraded"}return e.services.api.status==="unhealthy"&&(e.status="unhealthy"),e}async getDetailedHealth(){return{...await this.getHealthStatus(),system:{userAgent:navigator.userAgent,language:navigator.language,platform:navigator.platform,cookieEnabled:navigator.cookieEnabled,onLine:navigator.onLine,memory:performance.memory?{used:performance.memory.usedJSHeapSize,total:performance.memory.totalJSHeapSize,limit:performance.memory.jsHeapSizeLimit}:null},environment:{mode:"production",apiUrl:"https://pet-chem-independence-australia.trycloudflare.com",audioUrl:"https://ebfc52323306.ngrok-free.app",server:"localhost",port:"2002"}}}async ping(){return{status:"ok",timestamp:new Date().toISOString()}}}const p=new l;export{p as h};
